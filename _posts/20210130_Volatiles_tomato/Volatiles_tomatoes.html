<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>Volatile Compounds in Tomato and Tomato Products</title>

  <meta property="description" itemprop="description" content="Scraping information from journal article"/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2021-02-01"/>
  <meta property="article:created" itemprop="dateCreated" content="2021-02-01"/>
  <meta name="article:author" content="lruolin"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Volatile Compounds in Tomato and Tomato Products"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Scraping information from journal article"/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Volatile Compounds in Tomato and Tomato Products"/>
  <meta property="twitter:description" content="Scraping information from journal article"/>

  <!--/radix_placeholder_meta_tags-->
  
  <meta name="citation_reference" content="citation_title=Flavor of tomato and tomato products;citation_publication_date=1986;citation_volume=2;citation_doi=10.1080/87559128609540802;citation_issn=8755-9129;citation_author=Martha Petro‐Turza"/>
  <meta name="citation_reference" content="citation_title=Fresh tomato aroma volatiles: A quantitative study;citation_publication_date=1987;citation_volume=35;citation_author=Ron G. Buttery;citation_author=Roy Teranishi;citation_author=Louisa C. Ling"/>
  <meta name="citation_reference" content="citation_title=Relationship between sensory and instrumental analysis for tomato flavor;citation_publication_date=1998;citation_volume=123;citation_author=E. A. Baldwin;citation_author=J. W. Scott;citation_author=M. A. Einstein;citation_author=T. M. M. Malundo;citation_author=B. T. Carr;citation_author=R. L. Shewfelt;citation_author=K. S. Tandon"/>
  <meta name="citation_reference" content="citation_title=The chemistry of fresh tomato flavor;citation_publication_date=2001;citation_volume=25;citation_author=Emin Yilmaz"/>
  <meta name="citation_reference" content="citation_title=The expanded tomato fruit volatile landscape;citation_publication_date=2013;citation_volume=65;citation_author=José L. Rambla;citation_author=Yury M. Tikunov;citation_author=Antonio J. Monforte;citation_author=Arnaud G. Bovy;citation_author=Antonio Granell"/>
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","bibliography","output"]}},"value":[{"type":"character","attributes":{},"value":["Volatile Compounds in Tomato and Tomato Products"]},{"type":"character","attributes":{},"value":["Scraping information from journal article\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["lruolin"]}]}]},{"type":"character","attributes":{},"value":["02-01-2021"]},{"type":"character","attributes":{},"value":["tomatoes.bib"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["1986-tomato volatiles.pdf","tomatoes.bib","Volatiles_tomatoes_files/anchor-4.2.2/anchor.min.js","Volatiles_tomatoes_files/bowser-1.9.3/bowser.min.js","Volatiles_tomatoes_files/distill-2.2.21/template.v2.js","Volatiles_tomatoes_files/figure-html5/unnamed-chunk-6-1.png","Volatiles_tomatoes_files/figure-html5/unnamed-chunk-7-1.png","Volatiles_tomatoes_files/figure-html5/unnamed-chunk-8-1.png","Volatiles_tomatoes_files/header-attrs-2.6/header-attrs.js","Volatiles_tomatoes_files/jquery-1.11.3/jquery.min.js","Volatiles_tomatoes_files/popper-2.6.0/popper.min.js","Volatiles_tomatoes_files/tippy-6.2.7/tippy-bundle.umd.min.js","Volatiles_tomatoes_files/tippy-6.2.7/tippy-light-border.css","Volatiles_tomatoes_files/tippy-6.2.7/tippy.css","Volatiles_tomatoes_files/tippy-6.2.7/tippy.umd.min.js","Volatiles_tomatoes_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="Volatiles_tomatoes_files/header-attrs-2.6/header-attrs.js"></script>
  <script src="Volatiles_tomatoes_files/jquery-1.11.3/jquery.min.js"></script>
  <script src="Volatiles_tomatoes_files/popper-2.6.0/popper.min.js"></script>
  <link href="Volatiles_tomatoes_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="Volatiles_tomatoes_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="Volatiles_tomatoes_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="Volatiles_tomatoes_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="Volatiles_tomatoes_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="Volatiles_tomatoes_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="Volatiles_tomatoes_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Volatile Compounds in Tomato and Tomato Products","description":"Scraping information from journal article","authors":[{"author":"lruolin","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-02-01T00:00:00.000+00:00","citationText":"lruolin, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Volatile Compounds in Tomato and Tomato Products</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Scraping information from journal article</p></p>
</div>

<div class="d-byline">
  lruolin  
  
<br/>02-01-2021
</div>

<div class="d-article">
<h1 id="overview-of-tomato-volatiles">Overview of tomato volatiles</h1>
<p>Tomato flavor is the result of interaction of aroma and taste, arising from the interplay of mixture of acids, sugars, amino acids, minerals and volatile compounds. Presence of sugar or organic acids alters taste panel perception of aroma descriptions of samples with the same concentration of volatile compounds.</p>
<p>Volatile compounds may originate from different biosynthesis pathways <span class="citation" data-cites="buttery_fresh_1987">(<a href="#ref-buttery_fresh_1987" role="doc-biblioref">Buttery, Teranishi, and Ling 1987</a>)</span>, <span class="citation" data-cites="baldwin_relationship_1998">(<a href="#ref-baldwin_relationship_1998" role="doc-biblioref">Baldwin et al. 1998</a>)</span>, <span class="citation" data-cites="yilmaz_chemistry_2001">(<a href="#ref-yilmaz_chemistry_2001" role="doc-biblioref">Yilmaz 2001</a>)</span>:</p>
<ul>
<li>Derived from amino acids: Amino acids are acted upon by transaminase enzymes and converted into alpha-keto acids; which then undergo decarboxylation to form aldehydes, which may be reduced to form ketones.</li>
<li>Derived from carotenoids: eg 6-methyl-5-hepten-2-one and geranial</li>
<li>Derived from lipid degradation by lipoxygenase: eg C6 volatiles</li>
<li>Derived from peroxide lyase and alcohol dehydrogenase enzymes (ADH catalysed alcohol formation from aldehydes)</li>
<li>Maillard reaction products: furans, pyrroles (Strecker degradation products), pyrazines. These are usually seen in thermally processed tomato products/flavors</li>
<li>Derived from action of endogenous glycosidases (eg guaiacol, eugenol, methyl salicylate)</li>
</ul>
<p>The amount and types of volatiles are also influenced by:</p>
<ul>
<li>Tissue disruption</li>
<li>Ripening of fruit</li>
<li>Cultivar</li>
<li>Processing/Heating</li>
<li>Addition of other ingredients (eg herbs and spices for pasta sauces)</li>
</ul>
<h1 id="aim-of-this-exercise">Aim of this exercise:</h1>
<p>The aim of this exercise was to scrape the table of approximately 400 compounds from the pdf, and to visualize them by chemical categories.</p>
<p>There is a very handy package, <strong>tabulizer</strong>, which allows for scraping of information from pdf articles. I tried out text scraping, and text cleaning, from the article <span class="citation" data-cites="petroturza_flavor_1986">(<a href="#ref-petroturza_flavor_1986" role="doc-biblioref">Petro‐Turza 1986</a>)</span></p>
<h1 id="workflow">Workflow</h1>
<ol type="1">
<li>Import data using tabulizer</li>
<li>Text cleaning using stringr package</li>
<li>Visualize using ggplot2</li>
</ol>
<h2 id="loading-packages">Loading packages</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://www.rforge.net/rJava/'>rJava</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://docs.ropensci.org/tabulizer'>tabulizer</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://stringr.tidyverse.org'>stringr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://stringi.gagolewski.com/'>stringi</a></span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h2 id="import-tidy">Import &amp; Tidy</h2>
<p>I am interested in scraping the table of approximately 400 volatiles from page 18 to page 28. A copy of the pdf is saved in my working directory. I used the <strong>locate_area()</strong> function to determine the coordinates for scraping, and then extracted the text using <strong>extract_text()</strong> function.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>file</span> <span class='op'>&lt;-</span> <span class='st'>"1986-tomato volatiles.pdf"</span>
<span class='co'># locate_areas(file)</span>

<span class='va'>p18</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/tabulizer/reference/extract_text.html'>extract_text</a></span><span class='op'>(</span><span class='va'>file</span>, pages <span class='op'>=</span> <span class='fl'>18</span>, area <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>115.5</span>, <span class='fl'>33.05</span>, <span class='fl'>641.923</span>, <span class='fl'>443.94</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>p19</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/tabulizer/reference/extract_text.html'>extract_text</a></span><span class='op'>(</span><span class='va'>file</span>, pages <span class='op'>=</span> <span class='fl'>19</span>, 
                    area <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>117.15636</span>,  <span class='fl'>53.20364</span>, <span class='fl'>651.60000</span>, <span class='fl'>465.22545</span> <span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>p20</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/tabulizer/reference/extract_text.html'>extract_text</a></span><span class='op'>(</span><span class='va'>file</span>, pages <span class='op'>=</span> <span class='fl'>20</span>, 
                    area <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>114.52364</span>,  <span class='fl'>38.72364</span>, <span class='fl'>650.28364</span>, <span class='fl'>449.42909</span> <span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>p21</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/tabulizer/reference/extract_text.html'>extract_text</a></span><span class='op'>(</span><span class='va'>file</span>, pages <span class='op'>=</span> <span class='fl'>21</span>, 
                    area <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>119.29273</span> , <span class='fl'>48.89727</span>, <span class='fl'>656.76545</span>, <span class='fl'>457.90091</span> <span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>p22</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/tabulizer/reference/extract_text.html'>extract_text</a></span><span class='op'>(</span><span class='va'>file</span>, pages <span class='op'>=</span> <span class='fl'>22</span>, 
                    area <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>113.20727</span>,  <span class='fl'>30.32545</span>, <span class='fl'>643.70182</span>, <span class='fl'>466.04182</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>p23</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/tabulizer/reference/extract_text.html'>extract_text</a></span><span class='op'>(</span><span class='va'>file</span>, pages <span class='op'>=</span> <span class='fl'>23</span>, 
                    area <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>122.25273</span>,  <span class='fl'>49.84636</span>, <span class='fl'>652.01455</span>, <span class='fl'>473.13000</span> <span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>p24</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/tabulizer/reference/extract_text.html'>extract_text</a></span><span class='op'>(</span><span class='va'>file</span>, pages <span class='op'>=</span> <span class='fl'>24</span>, 
                    area <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>113.</span>,  <span class='fl'>34</span>, <span class='fl'>645.01818</span>, <span class='fl'>430.50000</span> <span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>p25</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/tabulizer/reference/extract_text.html'>extract_text</a></span><span class='op'>(</span><span class='va'>file</span>, pages <span class='op'>=</span> <span class='fl'>25</span>, 
                    area <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>119</span>,  <span class='fl'>58</span> ,<span class='fl'>642.81273</span>, <span class='fl'>478.38818</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>p26</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/tabulizer/reference/extract_text.html'>extract_text</a></span><span class='op'>(</span><span class='va'>file</span>, pages <span class='op'>=</span> <span class='fl'>26</span>, 
                    area <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>114</span>,  <span class='fl'>35</span>, <span class='fl'>668.17818</span>, <span class='fl'>443.44000</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>p27</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/tabulizer/reference/extract_text.html'>extract_text</a></span><span class='op'>(</span><span class='va'>file</span>, pages <span class='op'>=</span> <span class='fl'>27</span>, 
                    area <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>114.20727</span>,  <span class='fl'>41.24545</span>, <span class='fl'>656.36364</span>, <span class='fl'>442.94000</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>p28</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://docs.ropensci.org/tabulizer/reference/extract_text.html'>extract_text</a></span><span class='op'>(</span><span class='va'>file</span>, pages <span class='op'>=</span> <span class='fl'>28</span>, 
                    area <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>115.52000</span>,  <span class='fl'>33.86909</span>, <span class='fl'>404.32000</span>, <span class='fl'>469.69455</span> <span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>combined</span> <span class='op'>&lt;-</span> <span class='fu'>tribble</span><span class='op'>(</span><span class='op'>~</span><span class='va'>page</span>, <span class='op'>~</span><span class='va'>text</span>,
                    <span class='st'>"p18"</span>, <span class='va'>p18</span>,
                    <span class='st'>"p19"</span>, <span class='va'>p19</span>,
                    <span class='st'>"p20"</span>, <span class='va'>p20</span>,
                    <span class='st'>"p20"</span>, <span class='va'>p20</span>,
                    <span class='st'>"p21"</span>, <span class='va'>p21</span>,
                    <span class='st'>"p22"</span>, <span class='va'>p22</span>,
                    <span class='st'>"p23"</span>, <span class='va'>p23</span>,
                    <span class='st'>"p24"</span>, <span class='va'>p24</span>,
                    <span class='st'>"p25"</span>, <span class='va'>p25</span>,
                    <span class='st'>"p26"</span>, <span class='va'>p26</span>,
                    <span class='st'>"p27"</span>, <span class='va'>p27</span>,
                    <span class='st'>"p28"</span>, <span class='va'>p28</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>text_2 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"\\n"</span>, <span class='st'>"; "</span>, <span class='va'>text</span><span class='op'>)</span>,
         text_3 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_split.html'>str_split</a></span><span class='op'>(</span><span class='va'>text_2</span>, <span class='st'>"; "</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='co'># split by ; into new columns</span>
  <span class='fu'>unnest</span><span class='op'>(</span><span class='op'>)</span> 
</code></pre>
</div>
</div>
<p>I combined all the text that was extracted into a tibble. Then I replaced all the “” with “;” and then used str_split() to split the compounds into individual rows.</p>
<p>Following which, I used a series to str_replace_all to clean up the text. The list of things to remove include:</p>
<ul>
<li>digits that followed after chemical names</li>
<li>series of commars</li>
<li>text that mentioned unknown structure</li>
<li>alternative synonoyms of chemical compounds that were located within square brackets</li>
<li>odd chemical names</li>
</ul>
<p>As I replaced the commars, some of the chemical names were also changed. For example, 2,6-dimethylpyrazine became 26-dimethylpyrazine. I had to change the names by looking for numbers 26, and replacing them as 2,6.</p>
<p>I visually scanned through the list again and made changes where necessary, for eg, 2-formylpyiTole is actually 2-formylpyrrole.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>cleaned_text</span> <span class='op'>&lt;-</span> <span class='va'>combined</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>text_3</span><span class='op'>)</span> <span class='co'># 521</span>


<span class='va'>cleaned_text_b</span> <span class='op'>&lt;-</span> <span class='va'>cleaned_text</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='va'>text_3</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"(Continued)"</span>, <span class='st'>""</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>  <span class='co'># 503</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>text_3</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_3</span>, <span class='st'>"[0-9]{2,3}"</span>, <span class='st'>""</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"\\ , "</span>, <span class='st'>""</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"\\,,+"</span>, <span class='st'>""</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"\\(unknown structure\\)"</span>, <span class='st'>""</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"\\[[^\\]\\[]*]"</span>, <span class='st'>""</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"\\[[^\\[]*"</span>, <span class='st'>""</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>" \\,"</span>, <span class='st'>""</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>" \\/"</span>, <span class='st'>""</span><span class='op'>)</span>,
         <span class='co'># replace last commar, dash</span>
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/stringi/man/stri_replace.html'>stri_replace_last</a></span><span class='op'>(</span><span class='va'>text_4</span>, fixed <span class='op'>=</span> <span class='st'>","</span>, <span class='st'>""</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"PJ-dimethyl-ö-octen-l-ol]"</span>, <span class='st'>""</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"/"</span>, <span class='st'>""</span><span class='op'>)</span>,
         
         <span class='co'># correct for commar replacement</span>
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"45"</span>, <span class='st'>"4,5"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"26"</span>, <span class='st'>"2,6"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"25"</span>, <span class='st'>"2,5"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"33"</span>, <span class='st'>"3,3"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"23"</span>, <span class='st'>"2,3"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"14"</span>, <span class='st'>"1,4"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"12"</span>, <span class='st'>"1,2"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"24"</span>, <span class='st'>"2,4"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"34"</span>, <span class='st'>"3,4"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"11"</span>, <span class='st'>"1,1"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"2E 4Z"</span>, <span class='st'>"2E,4Z"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"2E4E"</span>, <span class='st'>"2E,4E"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"2E4Z"</span>, <span class='st'>"2E,4Z"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"hy droxy"</span>, <span class='st'>"hydroxy"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"66"</span>, <span class='st'>"6,6"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"3E5E"</span>, <span class='st'>"3E,5E"</span><span class='op'>)</span>,
         
         <span class='co'># further clean up</span>
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"\\(unknownstructure\\)"</span>, <span class='st'>""</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"\\(unknown"</span>, <span class='st'>""</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"2-formylpyiTole "</span>, <span class='st'>"2-formylpyrrole"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"neraUcis-SJ-dimethyl\\^.o-octadienal]"</span>, 
                                  <span class='st'>"neral"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"2-methyl-l-propanol -"</span>, 
                                  <span class='st'>"2-methyl-l-propanol"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"propanal 9 09 39 49 5"</span>,
                                  <span class='st'>"propanal"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"\\(methylthioH-propanol"</span>,
                                  <span class='st'>"\\(methylthio)-propanol"</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"\\(2,2,6-trimethyl-7-oxabicyclo"</span>,
                                  <span class='st'>""</span><span class='op'>)</span>,
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"._."</span>, <span class='st'>""</span><span class='op'>)</span>,
         
         <span class='co'># remove white space</span>
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_replace.html'>str_replace_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>" \\s"</span>, <span class='st'>""</span><span class='op'>)</span>,
         
         <span class='co'># remove quotation marks</span>
         text_4 <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_remove.html'>str_remove_all</a></span><span class='op'>(</span><span class='va'>text_4</span>, <span class='st'>"\""</span><span class='op'>)</span><span class='op'>)</span> 
</code></pre>
</div>
</div>
<p>One final clean:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>tomato_cleaned</span> <span class='op'>&lt;-</span> <span class='va'>cleaned_text_b</span><span class='op'>$</span><span class='va'>text_4</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>tomato_cleaned</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"compounds"</span><span class='op'>)</span>

<span class='va'>tomato_cleaned</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>tomato_cleaned</span>, quote <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='va'>compounds</span> <span class='op'>==</span> <span class='st'>" "</span>,
         <span class='op'>!</span><span class='va'>compounds</span> <span class='op'>==</span> <span class='st'>""</span><span class='op'>)</span> <span class='co'># remove quotation marks </span>
</code></pre>
</div>
<pre><code>                                                 compounds
1                                             HYDROCARBONS
2                                                 heptane 
3                                                  octane 
4                                                  nonane 
5                                                  decane 
6                                                 undecane
7                                             pentadecane 
8                                                ethylene 
9                                                camphene 
10                                                3-carene
11                                               limonene 
12                                                myrcene 
13                                          a-phellandrene
14                                          ß-phellandrene
15                                               o-pinene 
16                                                3-pinene
17                                               sabinene 
18                                            terpinolene 
19                                          triisobutylene
20                                                benzene 
21                                                 toluene
22                                            ethylbenzene
23                                                 styrene
24                                          propylbenzene 
25                                                  cumene
26                                           butylbenzene 
27                                                o-xylene
28                                               m-xylene 
29                                                p-xylene
30                                 l-ethyl-4-methylbenzene
31                                         diethylbenzene 
32                                                  cymene
33                                               p-cymene 
34                                       trimethylbenzene 
35                                           hemimellitene
36                                            pseudocumene
37                                              mesitylene
38                                                biphenyl
39                                             naphtalene 
40                                                ALCOHOLS
41                                               methanol 
42                                                 ethanol
43                                                        
44                                             1-propanol 
46                                              2-propanol
47                                     2-methyl-l-propanol
48                                                        
49                                    2-methyl-2-propanol 
50                                           2-propen-l-ol
51                                               1-butanol
53                                              2-butanol 
54                                              buten-1-ol
55                                     2-methyl-l-butanol 
56                                      3-methyl-l-butanol
58                                   3-methyl-2-buten-l-ol
59                                  2-methyl-3-buten-2-ol 
60                                         2,3-butanediol 
61                                             1-pentanol 
63                                             2-pentanol 
64                                             3-pentanol 
65                                      cis-3-penten-l-ol 
66                                          l-penten-3-ol 
67                                    2-methyl-l-pentanol 
68                                    3-methyl-l-pentanol 
69                                     2-methyl-2-pentanol
70                                               1-hexanol
72                                              2-hexanol 
73                                                 hexenol
74                                            2-hexen-l-ol
75                                        cis-2-hexen-l-ol
76                                     trans-2-hexen-l-ol 
77                                           3-hexen-l-ol 
78                                       cis-3-hexen-l-ol 
80                                     trans-3-hexen-1 -ol
81                                       cis-4-hexen-l-ol 
82                                           methylhexanol
83                                     2-methyl-3-hexanol 
84                                    5-methyl-1 -hexanol 
85                                             1-heptanol 
86                                              2-heptanol
87                                              4-heptanol
88                                 6-methyl-5-hepten-2-ol 
89                                               1-octanol
91                                           l-octen-3-ol 
92                                     7-methyl-l-octanol 
93                                              1-decanol 
94                                            8-p-cymenol 
95                                             citronellol
96                                                farnesol
97                                               geraniol 
98                                                linalool
100                                                 nerol 
101                                              nerolidol
102                                          terpinen-4-ol
103                                            o-terpineol
104                                        benzyl alcohol 
105                                        2-phenylethanol
107                              4-isopropylbenzyl alcohol
108                                               menthol 
109                                                PHENOLS
110                                                phenol 
111                                              o-cresol 
112                                               p-cresol
113                                          4-ethylphenol
114                                         4-vinylphenol 
115                                               guaiacol
116                                4-ethyl-2-methoxyphenol
117                                2-methoxy-4-vinylphenol
118                                                eugenol
119                                           3,4-xylenol 
120                                                 ETHERS
121                                          diethyl ether
122                                   1,1-dipropoxyethane 
123                    1-ethoxy-l (3-methylbutoxy)-ethane 
124                              1-ethoxy-l-pentoxyethane 
125                             l-methoxy-4-methylbenzene 
126                              isopropyl-methoxybenzene 
127                                    2-methoxy-biphenyl 
128                                              ALDEHYDES
129                                           formaldehyde
130                                           acetaldehyde
175                                              propanal 
176                                               acrolein
177                                       2-methylpropanal
178                                                butanal
179                                              2-butenal
180                                       2-methylbutanal 
181                                       3-methylbutanal 
183                                    2-methyl-2-butenal 
184                                          tiglaldehyde 
185                                               pentanal
186                                            2-pentenal 
187                                       trans-2-pentenal
188                                             3-pentenal
189                                         methylpentenal
190                                                hexanal
192                                               hexenal 
193                                              2-hexenal
194                                          cis-2-hexenal
195                                        trans-2-hexenal
197                                         cis-3-hexenal 
198                                      2E,4Z-hexadienal 
199                                      2E,4E-hexadienal 
200                                               heptanal
201                                              heptenal 
202                                             2-heptenal
203                                       trans-2-heptenal
204                                      2E,4Z-heptadienal
205                                     2E,4E-heptadienal 
206                                               octanal 
207                                             2-octenal 
208                                       trans-2-octenal 
209                                               nonanal 
210                                              2-nonenal
211                                        trans-2-nonenal
212                                      2E,4E-nonadienal 
213                                               decanal 
214                                             2-decenal 
215                                        2,4-decadienal 
216                                       2E,4Z-decadienal
217                                      2E,4E-decadienal 
218                                             undecanal 
219                                              dodecanal
221                                                citral 
222                                                 neral 
223                                              geranial 
224                                           citronellal 
225                                               farnesal
226                                          benzaldehyde 
228                                  3-methylbenzaldehyde 
229                                  4-methylbenzaldehyde 
230                                        salicylaldehyde
231                                  4-hydroxybenzaldehyde
232                                 3-methoxybenzaldehyde 
233                                          anisaldehyde 
234                                  2-phenylacetaldehyde 
235                                      3-phenylpropanal 
236                                         cinnamaldehyde
237                                                KETONES
238                                                acetone
239                                            2-butanone 
240                                  3-hydroxy-2-butanone 
241                                          3-buten-2-one
242                                            2-pentanone
243                                           3-pentanone 
244                                         l-penten-3-one
245                                         3-penten-2-one
246                                         cyclopentanone
247                                 2-ethylcyclopentanone 
248                                  2-methyl-3-pentanone 
249                                          mesityl oxide
250                       4-hydroxy- 4-methyl-2-pentanone 
251                              2,4-dimethylpentan-3-one 
252                                            2-hexanone 
253                2-hydroxy-2,6,6-trimethylcyclohexanone 
254                                           2-heptanone 
255                                  4-methyl-3-heptanone 
256                                        methylheptenone
257                               6-methyl-5-hepten-2-one 
259                           6-methyl-35-heptadien-2-one 
260                                             2-octanone
261                                   3E,5E-octadien-2-one
262                                            2-nonanone 
263                                   trans-2-nonen-4-one 
265                                             undecanone
266                                          2-dodecanone 
267                                         pseudo-ionone 
268                                        geranylacetone 
270                                       farnesylacetone 
272                                              tt-ionone
273                                               ß-ionone
275                                              •y-ionone
276                                         epoxy-0-ionone
278                                                carvone
279                                          acetophenone 
280                                  4-methylacetophenone 
281                                 2-hydroxyacetophenone 
282                                  4-methoxyacetophenone
283                         4-methyl-4-phenyl-2-pentanone 
284                                   l-phenyl-2-propanone
285                                    l-phenyl-2-butanone
286                                   DICARBONYL COMPOUNDS
287                                               glyoxal 
288                                          methylglyoxal
289                                              biacetyl 
291                                       2-oxo-3-butenal 
292                                       2,3-pentanedione
293                                      2,3-heptanedione 
294                                                  ACIDS
295                                                formic 
296                                                 acetic
297                                             propanoic 
298                                     2-methylpropanoic 
299                                              butanoic 
300                                      2-methylbutanoic 
301                                      3-methylbutanoic 
302                                              pentanoic
303                                     4-methylpentanoic 
304                                              hexanoic 
305                                             4-hexenoic
306                                             heptanoic 
308                                              octanoic 
309                                                geranic
310                                               nonanoic
311                                               myristic
312                                         pentadecanoic 
313                                               palmitic
314                                               stearic 
315                                                 oleic 
316                                               linoleic
317                                             linolenic 
318                                               benzoic 
319                                              salicylic
320                                        2-phenylacetic 
321                                              cinnamic 
322                                     4-hydroxycinnamic 
323                                                 ESTERS
324                                        methyl fonnate 
325                                         ethyl fonnate 
326                                        pentyl fonnate 
327                                      phenetyl fonnate 
328                                        methyl acetate 
329                                         ethyl acetate 
330                                        propyl acetate 
331                                          butyl acetate
332                                 2-methylbutyl acetate 
333                                     isopentyl acetate 
334                                         pentyl acetate
335                                         hexyl acetate 
336                               trans-2-hexenyl acetate 
337                                     3-hexenyl acetate 
338                                  cis-3-hexenyl acetate
339                              trans-3-hexeny 1 acetate2
340                                        heptyl acetate 
341                               6 -methylheptyl acetate 
342                                         nonyl acetate 
343                                      phenethyl acetate
344                                    citronellyl acetate
345                                       geranyl acetate 
346                                        linalyl acetate
347                                       ethyl propanoate
348                                  isopentyl propanoate 
349                                 citronellyl propanoate
350                                      methyl butanoate 
352                                     2-butyl butanoate 
353                                   isopentyl butanoate 
354                                 citronellyl butanoate 
355                                     geranyl butanoate 
356                            isobutyl 3-methylbutanoate 
357                       2-methylbutyl 3-methylbutanoate 
358                           isopentyl 3-methylbutanoate 
359                                   isobutyl pentanoate 
360                                   isopentyl pentanoate
361                                      methyl hexanoate 
362                                        ethyl hexanoate
363                                        butyl hexanoate
364                                   isopentyl hexanoate 
365                                        hexyl hexanoate
366                                  isopentyl heptanoate 
367                                       methyl octanoate
368                                      propyl nonanoate 
369                                   isopentyl nonanoate 
370                                      propyl decanoate 
371                                   isopentyl decanoate 
372                                       methyl myristate
373                                        ethyl myristate
374                                  methyl pentadecanoate
375                                      methyl palmitate 
376                                        ethyl palmitate
377                                          methyl oléate
378                                      methyl linoleate 
379                                        ethyl linoleate
380                                      methyl linolenate
381                                       ethyl linolenate
382                                       methylsalicylate
383                                       ethyl salicylate
384                                               LACTONES
385                                        7-butyrolactone
386                                 2-methyl-4-butanolide 
387                              3-methyl-2-buten-4-olide 
388                                          4-pentanolide
389                                3-methyl-4-pentanolide 
390                                          4-hexanolide 
391                                6-hydroxy-5-hexanolide 
392                                          4-octanolide 
393                                          5-octanolide 
394                                           4-nonanolide
396                          2,4-dimethyl-2-nonen-4-olide 
397                                  dihydroactinidiolide 
399                                              phtalide 
400                                       SULFUR COMPOUNDS
401                                       hydrogen sulfide
402                                       dimethyl sulfide
403                                   ethylmethyl sulfide 
404                                    dimethyl disulfide 
405                                methylpropyl disulfide 
406                                          methanethiol 
407                                 2-(methylthio)ethanol 
408                                 3(methylthio)-propanol
409                              5(methylthio)-l-pentanol 
410                            2(methylthio)-acetaldehyde 
411                                3(methylthio)-propanal 
412                           methyl-methanethiosulfonate 
413                                     NITROGEN COMPOUNDS
414                                            methylamine
415                                             ethylamine
416                                          dimethylamine
417                                        trimethylamine 
418                                            propylamine
419                                            butylamine 
420                                          isobutylamine
421                                    dimethylethylamine 
422                                           diethylamine
423                                    2-methylbutylamine 
424                                           pentylamine 
425                                         isopentylamine
426                                         diphenylamine 
427                                 3-methylbutanal-oxime 
428                                         butanenitrile 
429                                  3-methylbutanenitrile
430                                        pentanenitrile 
431                                         benzyl cyanide
432                                    3-methylnitrobutane
433                          3-hydroxy-3-methylnitrobutane
434                                      HALOGEN COMPOUNDS
435                                       trichloromethane
436                                     trichloroethylene 
437                                    1,2-dichlorobenzene
438               OXYGEN-CONTAINING HETEROCYCLIC COMPOUNDS
439                                                 furan 
440                                          2-methylfuran
441                                          2-ethylfuran 
442                                         2-propylfuran 
443                                      2-isobutenylfuran
444                             2-isopropyl-5-methylfuran 
445                            2-isopropenyl-5-methylfuran
446                              2-methyl-5-propenylfuran 
447                                         2-pentylfuran 
448                                          2-hexylfuran 
449                                         2-heptylfuran 
450                                            acetylfuran
451                                         2-acetylfuran 
452                                              furfural 
454                                       5-methylfurfural
455                                 2-acetyl-5-methylfuran
456                              2-acetonyl-5-methylfuran 
457                             methyl-2-furancarboxylate 
458                                          dibenzofuran 
459                                      furfuryl alcohol 
460                                2-furancarboxylic acid 
461                          2-methyltetrahydro-3-furanone
462                               linalool oxide I. or II.
463                                     linalool oxide I. 
465                                    linalool oxide II. 
467                                   linalool III. or IV.
468                                            structure) 
469                                           1,4-dioxane 
470                          2,2,4-trimethyl-l3-dioxolane 
471               2,7-dioxa-l,3,3-trimethylbicycloheptane 
472                   ó.S-dioxa-l.S-dimethylbicyclooctane 
473               SULFUR-CONTAINING HETEROCYCLIC COMPOUNDS
474                                     2-forraylthiophene
475                                     3-formylthiophene 
476                            2-formyl-5-methylthiophene 
477                                     2-acetylthiophene 
478                            2-thiophenecarboxyIic acid 
479             NITROGEN-CONTAINING HETEROCYCLIC COMPOUNDS
480                                               pyrrole 
481                                   2,5-dimethylpyrrole 
483                                        2-formylpyrrole
484                                       2-acetylpyrrole 
485                                              pyridine 
486                                      2-formylpyridine 
487                                         methylpyrazine
488                                      2-methylpyrazine 
489                                  2,6-dimethylpyrazine 
490                               2-ethyl-6-vinylpyrazine 
491                          2-isopropyl-3-methoxypyrazine
492                                                indene 
493 SULFUR- AND NITROGEN-CONTAINING HETEROCYCLIC COMPOUNDS
494                                      2-propylthiazole 
495                                    2-isobutylthiazole 
497                                   2-sec-butylthiazole 
498                          2-isopropyl-4-methylthiazole 
499                                          benzothiazole
500               NITROGEN-AND OXYGEN-CONTAINING COMPOUNDS
501                                        4-butyloxazole 
502                               5-pentyl-4-ethyloxazole 
503                                 4,5-dimethylisoxazole </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>tomato_cleaned</span><span class='op'>$</span><span class='va'>compounds</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_remove.html'>str_remove_all</a></span><span class='op'>(</span><span class='va'>tomato_cleaned</span><span class='op'>$</span><span class='va'>compounds</span>, 
                                           <span class='st'>"\\s"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>The file could be exported as a .csv file as a back up, in case it is needed again in the future.</p>
<h2 id="transform">TRANSFORM</h2>
<p>Next, I had to split the compounds into various chemical categories.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>hydrocarbons</span> <span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>39</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"hydrocarbons"</span><span class='op'>)</span>


<span class='va'>alcohols</span> <span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>41</span><span class='op'>:</span><span class='fl'>98</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"alcohols"</span><span class='op'>)</span>

<span class='va'>phenols</span> <span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>99</span><span class='op'>:</span><span class='fl'>108</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"phenols"</span><span class='op'>)</span>

<span class='va'>ethers</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>111</span><span class='op'>:</span><span class='fl'>116</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"ethers"</span><span class='op'>)</span>

<span class='va'>aldehydes</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>118</span><span class='op'>:</span><span class='fl'>176</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"aldehydes"</span><span class='op'>)</span>

<span class='va'>ketones</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>178</span><span class='op'>:</span><span class='fl'>219</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"ketones"</span><span class='op'>)</span>

<span class='va'>dicarbonyl</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>221</span><span class='op'>:</span><span class='fl'>226</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"dicarbonyl"</span><span class='op'>)</span>

<span class='va'>acids</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>228</span><span class='op'>:</span><span class='fl'>254</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"acids"</span><span class='op'>)</span>

<span class='va'>esters</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>256</span><span class='op'>:</span><span class='fl'>314</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"esters"</span><span class='op'>)</span>

<span class='va'>lactones</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>316</span><span class='op'>:</span><span class='fl'>328</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"lactones"</span><span class='op'>)</span>

<span class='va'>sulfur</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>330</span><span class='op'>:</span><span class='fl'>341</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"sulfur"</span><span class='op'>)</span>

<span class='va'>nitrogen</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>343</span><span class='op'>:</span><span class='fl'>362</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"nitrogen"</span><span class='op'>)</span>

<span class='va'>halogen</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>364</span><span class='op'>:</span><span class='fl'>366</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"halogen"</span><span class='op'>)</span>

<span class='va'>oxygen</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>368</span><span class='op'>:</span><span class='fl'>398</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"oxygen"</span><span class='op'>)</span>

<span class='va'>sulfur_heterocyclic</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>400</span><span class='op'>:</span><span class='fl'>404</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"sulfur_heterocyclic"</span><span class='op'>)</span>

<span class='va'>nitrogen_heterocyclic</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>406</span><span class='op'>:</span><span class='fl'>417</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"nitrogen_heterocyclic"</span><span class='op'>)</span>

<span class='va'>nitrogen_sulfur_heterocyclic</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>419</span><span class='op'>:</span><span class='fl'>423</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"nitrogen_sulfur_heterocyclic"</span><span class='op'>)</span>

<span class='va'>nitrogen_oxygen_heterocyclic</span><span class='op'>&lt;-</span> <span class='va'>tomato_cleaned</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>slice</span><span class='op'>(</span><span class='fl'>425</span><span class='op'>:</span><span class='fl'>427</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='st'>"nitrogen_oxygen_heterocyclic"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h2 id="visualize">Visualize</h2>
<div class="layout-chunk" data-layout="l-page-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>tomatoes_compounds</span> <span class='op'>&lt;-</span> <span class='fu'>bind_rows</span><span class='op'>(</span><span class='va'>hydrocarbons</span>,
                                <span class='va'>alcohols</span>,
                                <span class='va'>phenols</span>,
                                <span class='va'>ethers</span>,
                                <span class='va'>aldehydes</span>,
                                <span class='va'>ketones</span>,
                                <span class='va'>dicarbonyl</span>,
                                <span class='va'>acids</span>,
                                <span class='va'>esters</span>,
                                <span class='va'>lactones</span>,
                                <span class='va'>sulfur</span>,
                                <span class='va'>halogen</span>,
                                <span class='va'>oxygen</span>,
                                <span class='va'>sulfur_heterocyclic</span>,
                                <span class='va'>nitrogen_heterocyclic</span>,
                                <span class='va'>nitrogen_sulfur_heterocyclic</span>,
                                <span class='va'>nitrogen_oxygen_heterocyclic</span>
                                <span class='op'>)</span>

<span class='va'>plot</span> <span class='op'>&lt;-</span> <span class='va'>tomatoes_compounds</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>category</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>summarise</span><span class='op'>(</span>count <span class='op'>=</span> <span class='fu'>n</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>category</span>, <span class='va'>count</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='va'>count</span>, label <span class='op'>=</span> <span class='va'>count</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_col</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"tomato2"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_text</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>count</span><span class='op'>)</span>, hjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.5</span>, size <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>scale_y_continuous</span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>0</span><span class='op'>)</span>, limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>80</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>y <span class='op'>=</span> <span class='st'>"No. of compounds"</span>,
       x <span class='op'>=</span> <span class='st'>"Category"</span>,
       title <span class='op'>=</span> <span class='st'>"Number of volatile compounds identified in tomatoes, sorted by chemical category"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"Esters, aldehydes and alcohols dominate the types of compounds identified"</span>,
       caption <span class='op'>=</span> <span class='st'>"Petro-Turza(1989): Flavor of tomato and tomato products "</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>coord_flip</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme_classic</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'>theme</span><span class='op'>(</span>title <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>28</span><span class='op'>)</span>,
        axis.title <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>24</span>, face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,
        axis.text <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>plot</span>
</code></pre>
</div>
<p><img src="Volatiles_tomatoes_files/figure-html5/unnamed-chunk-6-1.png" width="1920" /></p>
</div>
<h2 id="reflections">Reflections</h2>
<p>It may have been easier to type out the list of 400 compounds, which would only take an hour or less, with the formatting done properly on the onset. However, if the table was much longer, text cleaning would be more effectively carried out by stringr. Some improvements could be made to the script so that I do not have to carry out multiple str_replace_all, and to automatically filter out by categories instead of manually defining them. However, it was a good beginner’s practice on text cleaning using the stringr package as I do not often have the chance to use regular expressions, and I found the str_detect, str_which and str_view_all functions extremely useful in locating regex matches.</p>
<p>The plot above only lists the number of compounds identified so far by chemical classes, but does not show which are the character impact compounds that contribute significantly to tomatoes.</p>
<p>Historically, researchers focused on identifying volatiles, quantifying them and classifying them based on their odor thresholds to determine which compounds played a contributory role to tomato flavor. However, the new trend is in assessing the importance of compounds based on how much they contribute to the <strong>liking</strong> of tomato flavor, and this could be by means of targeted metabolomics, or by generating prediction models for different descriptors of tomato flavor using regression analysis of both volatile and non-volatile compounds, or by carrying out multivariate modelling on physicochemical, volatile and sensory parameters<span class="citation" data-cites="rambla_expanded_2013">(<a href="#ref-rambla_expanded_2013" role="doc-biblioref">Rambla et al. 2013</a>)</span>.</p>
<p>It would be interesting to try to apply prediction models and multivariate analysis in R.</p>
<h1 id="references">References</h1>
<ul>
<li><a href="https://www.r-bloggers.com/2019/09/pdf-scraping-in-r-with-tabulizer/" class="uri">https://www.r-bloggers.com/2019/09/pdf-scraping-in-r-with-tabulizer/</a></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-baldwin_relationship_1998" class="csl-entry" role="doc-biblioentry">
Baldwin, E. A., J. W. Scott, M. A. Einstein, T. M. M. Malundo, B. T. Carr, R. L. Shewfelt, and K. S. Tandon. 1998. <span>“Relationship Between Sensory and Instrumental Analysis for Tomato Flavor.”</span> <em>Journal of the American Society for Horticultural Science</em> 123 (5): 906–15.
</div>
<div id="ref-buttery_fresh_1987" class="csl-entry" role="doc-biblioentry">
Buttery, Ron G., Roy Teranishi, and Louisa C. Ling. 1987. <span>“Fresh Tomato Aroma Volatiles: A Quantitative Study.”</span> <em>Journal of Agricultural and Food Chemistry</em> 35 (4): 540–44.
</div>
<div id="ref-petroturza_flavor_1986" class="csl-entry" role="doc-biblioentry">
Petro‐Turza, Martha. 1986. <span>“Flavor of Tomato and Tomato Products.”</span> <em>Food Reviews International</em> 2 (3): 309–51. <a href="https://doi.org/10.1080/87559128609540802">https://doi.org/10.1080/87559128609540802</a>.
</div>
<div id="ref-rambla_expanded_2013" class="csl-entry" role="doc-biblioentry">
Rambla, José L., Yury M. Tikunov, Antonio J. Monforte, Arnaud G. Bovy, and Antonio Granell. 2013. <span>“The Expanded Tomato Fruit Volatile Landscape.”</span> <em>Journal of Experimental Botany</em> 65 (16): 4613–23.
</div>
<div id="ref-yilmaz_chemistry_2001" class="csl-entry" role="doc-biblioentry">
Yilmaz, Emin. 2001. <span>“The Chemistry of Fresh Tomato Flavor.”</span> <em>Turkish Journal of Agriculture and Forestry</em> 25 (3): 149–55.
</div>
</div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
<h3 id="references">References</h3>
<div id="references-listing"></div>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
